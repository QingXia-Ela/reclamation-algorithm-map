import{_ as H,d as k,r as A,a as b,p as W,i as pe,o as L,u,b as ue,c as j,e as Q,f as M,g as D,h as ce,j as de,k as C,l as me,m as fe,n as l,q as _,w as d,s as h,t as U,v as O,x as B,y as T,z as ve,E as _e,A as he,B as ye,C as E,D as y,F as c,G as K,H as w,I as ge,J as be,K as Y,L as we,M as z,N as oe,O as $e,P as Ce,Q as ne,R as ke,S as Se,T as V,U as N,V as G,W as J,X as Te,Y as Ee,Z as R,$ as ae,a0 as Ie,a1 as Me,a2 as Ne,a3 as xe,a4 as Ae,a5 as X,a6 as Oe,a7 as Ve,a8 as Re,a9 as De,aa as Pe,ab as Be,ac as Ue,ad as Le}from"./virtual_svg-icons-register-BxBdJCeh.js";const je=k({inheritAttrs:!1});function qe(n,e,o,t,a,s){return A(n.$slots,"default")}var Fe=H(je,[["render",qe],["__file","collection.vue"]]);const Qe=k({name:"ElCollectionItem",inheritAttrs:!1});function He(n,e,o,t,a,s){return A(n.$slots,"default")}var Ke=H(Qe,[["render",He],["__file","collection-item.vue"]]);const Ye="data-el-collection-item",ze=n=>{const e=`El${n}Collection`,o=`${e}Item`,t=Symbol(e),a=Symbol(o),s={...Fe,name:e,setup(){const i=b(null),p=new Map;W(t,{itemMap:p,getItems:()=>{const g=u(i);if(!g)return[];const f=Array.from(g.querySelectorAll(`[${Ye}]`));return[...p.values()].sort(($,P)=>f.indexOf($.ref)-f.indexOf(P.ref))},collectionRef:i})}},r={...Ke,name:o,setup(i,{attrs:p}){const v=b(null),g=pe(t,void 0);W(a,{collectionItemRef:v}),L(()=>{const f=u(v);f&&g.itemMap.set(f,{ref:f,...p})}),ue(()=>{const f=u(v);g.itemMap.delete(f)})}};return{COLLECTION_INJECTION_KEY:t,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:s,ElCollectionItem:r}},F=j({trigger:Q.trigger,effect:{...M.effect,default:"light"},type:{type:D(String)},placement:{type:D(String),default:"bottom"},popperOptions:{type:D(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:D([Number,String]),default:0},maxHeight:{type:D([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:D(Object)},teleported:M.teleported});j({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:ce}});j({onKeydown:{type:D(Function)}});ze("Dropdown");const Ge=j({trigger:Q.trigger,placement:F.placement,disabled:Q.disabled,visible:M.visible,transition:M.transition,popperOptions:F.popperOptions,tabindex:F.tabindex,content:M.content,popperStyle:M.popperStyle,popperClass:M.popperClass,enterable:{...M.enterable,default:!0},effect:{...M.effect,default:"light"},teleported:M.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Je={"update:visible":n=>de(n),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},We="onUpdate:visible",Xe=k({name:"ElPopover"}),Ze=k({...Xe,props:Ge,emits:Je,setup(n,{expose:e,emit:o}){const t=n,a=C(()=>t[We]),s=me("popover"),r=b(),i=C(()=>{var m;return(m=u(r))==null?void 0:m.popperRef}),p=C(()=>[{width:fe(t.width)},t.popperStyle]),v=C(()=>[s.b(),t.popperClass,{[s.m("plain")]:!!t.content}]),g=C(()=>t.transition===`${s.namespace.value}-fade-in-linear`),f=()=>{var m;(m=r.value)==null||m.hide()},S=()=>{o("before-enter")},$=()=>{o("before-leave")},P=()=>{o("after-enter")},q=()=>{o("update:visible",!1),o("after-leave")};return e({popperRef:i,hide:f}),(m,Co)=>(l(),_(u(_e),ve({ref_key:"tooltipRef",ref:r},m.$attrs,{trigger:m.trigger,placement:m.placement,disabled:m.disabled,visible:m.visible,transition:m.transition,"popper-options":m.popperOptions,tabindex:m.tabindex,content:m.content,offset:m.offset,"show-after":m.showAfter,"hide-after":m.hideAfter,"auto-close":m.autoClose,"show-arrow":m.showArrow,"aria-label":m.title,effect:m.effect,enterable:m.enterable,"popper-class":u(v),"popper-style":u(p),teleported:m.teleported,persistent:m.persistent,"gpu-acceleration":u(g),"onUpdate:visible":u(a),onBeforeShow:S,onBeforeHide:$,onShow:P,onHide:q}),{content:d(()=>[m.title?(l(),h("div",{key:0,class:U(u(s).e("title")),role:"title"},O(m.title),3)):B("v-if",!0),A(m.$slots,"default",{},()=>[T(O(m.content),1)])]),default:d(()=>[m.$slots.reference?A(m.$slots,"reference",{key:0}):B("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var et=H(Ze,[["__file","popover.vue"]]);const Z=(n,e)=>{const o=e.arg||e.value,t=o?.popperRef;t&&(t.triggerRef=n)};var tt={mounted(n,e){Z(n,e)},updated(n,e){Z(n,e)}};const ot="popover",nt=he(tt,ot),at=ye(et,{directive:nt}),lt=n=>n.split("-").includes("百变陌域模板")?`rift/${n}.json`:`map_${n}.json`;async function le(n,e=""){const o=lt(n);return await(await fetch(`${e}maps/${o}`)).json()}const st={key:1},rt={__name:"OperateButton",props:{disabled:Boolean,popover:String,popoverWidth:{type:Number,default:300},active:Boolean},emits:["click"],setup(n){const e=n,o=C(()=>({operate_button:!0,disabled:e.disabled})),t=b(!1);let a=null,s=null;function r(){clearTimeout(s),a=setTimeout(()=>{t.value=!0},300)}function i(){clearTimeout(a),s=setTimeout(()=>{t.value=!1},500)}return(p,v)=>(l(),_(u(at),{placement:"top",disabled:!e.popover,class:U({active:e.active}),content:e.popover,"popper-style":"text-align: center",visible:t.value,width:e.popoverWidth},{reference:d(()=>[y("div",{class:U(o.value),onClick:v[0]||(v[0]=g=>p.$emit("click")),onMouseenter:r,onMouseleave:i},[A(p.$slots,"default",{},void 0,!0)],34)]),default:d(()=>[y("div",{onMouseenter:r,onMouseleave:i},[p.$slots.popover?A(p.$slots,"popover",{key:0},void 0,!0):(l(),h("div",st,O(e.popover),1))],32)]),_:3},8,["disabled","class","content","visible","width"]))}},x=E(rt,[["__scopeId","data-v-a626dc43"]]),it={"aria-hidden":"true",class:"svg"},pt=["xlink:href","fill"],ut={__name:"SvgIcon",props:{prefix:{type:String,default:"icon"},name:{type:String,required:!0},color:{type:String,default:"#333"}},setup(n){const e=n,o=C(()=>`#${e.prefix}-${e.name}`);return(t,a)=>(l(),h("svg",it,[y("use",{"xlink:href":o.value,fill:n.color},null,8,pt)]))}},I=E(ut,[["__scopeId","data-v-47352943"]]),ct=n=>(ge("data-v-199ba81d"),n=n(),be(),n),dt=ct(()=>y("div",{class:"iframe_wrapper"},[y("iframe",{src:"https://luotianorange.github.io/SXYS-tools/",class:"iframe",frameborder:"0"})],-1)),mt={__name:"CheckFoodFormula",setup(n){const e=b(!1);return(o,t)=>(l(),h(w,null,[c(x,{popover:"查看游戏内所有食谱（该功能由外部网站实现）","popover-width":200,onClick:t[0]||(t[0]=a=>e.value=!0)},{default:d(()=>[c(I,{name:"cook",color:"#fff",style:{width:"1.6rem",height:"1.6rem"}})]),_:1}),c(u(K),{width:"80%",top:"5vh",theme:"dark",title:"生息演算在线工具",modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=a=>e.value=a),onClose:t[2]||(t[2]=a=>e.value=!1),"append-to-body":""},{default:d(()=>[dt]),_:1},8,["modelValue"])],64))}},ft=E(mt,[["__scopeId","data-v-199ba81d"]]),vt={__name:"QueryShortestRoad",setup(n){function e(){Y({type:"info",message:"功能还在开发中，敬请期待"})}return(o,t)=>(l(),_(x,{popover:"查询两个节点的最短路线","popover-width":180,onClick:e},{default:d(()=>[c(I,{name:"connect",color:"#fff",style:{width:"1.6rem",height:"1.6rem"}})]),_:1}))}},_t={class:"title"},ht={class:"sidebar_container"},yt={class:"bottom_operate"},gt=k({__name:"index",props:we({useMask:{type:Boolean}},{show:{default:!1},showModifiers:{}}),emits:["update:show"],setup(n){const e=z(n,"show"),o=n,t=b(!1),a=b(!0);let s=null;return oe(()=>e.value,r=>{clearTimeout(s),r?(a.value=!1,setTimeout(()=>{t.value=!0})):(t.value=!1,s=setTimeout(()=>{a.value=!0},300))}),(r,i)=>(l(),h(w,null,[o.useMask?(l(),_($e,{key:0,active:t.value,opacity:0},null,8,["active"])):B("",!0),y("div",{class:"sidebar_wrapper",style:Ce({display:a.value?"none":"flex",opacity:t.value?1:0,pointerEvents:t.value?"auto":"none"})},[y("div",_t,[A(r.$slots,"title",{},void 0,!0)]),y("div",ht,[A(r.$slots,"default",{},void 0,!0)]),y("div",yt,[A(r.$slots,"bottom",{},void 0,!0)])],4)],64))}}),bt=E(gt,[["__scopeId","data-v-0e1ab06b"]]),wt={class:"selected_icon"},$t={class:"node_type_img"},Ct=["src"],kt={class:"node_info"},St={class:"type"},Tt={class:"title"},Et={class:"icons"},It={class:"icon"},Mt=["src"],Nt=k({__name:"index",props:{node:{}},setup(n){const e=n,o=C(()=>e.node),t=C(()=>o.value?.name||"未知节点"),a=C(()=>{const i=o.value?.type||"unknown";return ne.find(p=>p.value===i).label}),s=C(()=>(o.value?.mainResources||[]).map(p=>ke[p.type]));function r(i=0,p=0){N.setCameraPosition({x:i,y:p})}return(i,p)=>(l(),h("div",{class:"single_node_item",onClick:p[0]||(p[0]=v=>r(o.value?.x,o.value?.y))},[y("div",wt,[c(I,{name:"correct-c",color:"#fff"})]),y("div",$t,[y("img",{class:"node_img",src:u(Se).NODE_CAVE,alt:""},null,8,Ct)]),y("div",kt,[y("div",St,O(a.value),1),y("div",Tt,O(t.value),1),y("div",Et,[(l(!0),h(w,null,V(s.value,v=>(l(),h("div",It,[y("img",{class:"icon_img",src:v,alt:""},null,8,Mt)]))),256))])])]))}}),xt=E(Nt,[["__scopeId","data-v-42a6a662"]]),At={class:"result_contain"},Ot={class:"info"},Vt={class:"text"},Rt={class:"node_list"},Dt=k({__name:"QueryResultShow",props:{nodes:{}},emits:["back"],setup(n){const e=n;return(o,t)=>(l(),h("div",At,[y("div",Ot,[y("div",Vt,"共 "+O(e.nodes?.length||0)+" 个节点",1),y("div",{class:"back",onClick:t[0]||(t[0]=()=>o.$emit("back"))},"返回筛选")]),y("div",Rt,[(l(!0),h(w,null,V(e.nodes,a=>(l(),_(xt,{key:a.id,node:a.options},null,8,["node"]))),128))])]))}}),Pt=E(Dt,[["__scopeId","data-v-45c7f690"]]),Bt={__name:"Name",setup(n,{expose:e}){const o=Object.keys(Te),t=b();function a(s){return t.value?s.filter(r=>t.value===r.options.name):s}return e({next:a}),(s,r)=>(l(),_(u(J),{placeholder:"选择节点名字",modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=i=>t.value=i)},{default:d(()=>[(l(!0),h(w,null,V(u(o),i=>(l(),_(u(G),{key:i,label:i,value:i},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]))}},Ut=k({__name:"Type",setup(n,{expose:e}){const o=b();function t(a){return a.filter(s=>o.value===s.options.type)}return e({next:t}),(a,s)=>(l(),_(u(J),{placeholder:"选择节点类型",modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=r=>o.value=r)},{default:d(()=>[(l(!0),h(w,null,V(u(ne),r=>(l(),_(u(G),{key:r.value,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]))}}),Lt=k({expose:["next"],name:"EmptyCondition",render(){return Ee(w,null)},methods:{next(n){return n}}});var se=(n=>(n.NAME="name",n.TYPE="type",n.EMPTY="empty",n))(se||{});const ee={name:{name:"根据节点名字匹配",component:Bt},type:{name:"根据节点类型匹配",component:Ut},empty:{name:"无条件",component:Lt}},jt={class:"condition_wrapper"},qt={class:"condition_select"},Ft={key:0,class:"condition_component_wrapper"},Qt=k({__name:"index",setup(n,{expose:e}){const o=b(),t=b(se.EMPTY),a=C(()=>ee[t.value].component);function s(r){return o.value?.next?.(r)||r}return e({next:s}),(r,i)=>(l(),h("div",jt,[y("div",qt,[c(u(J),{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=p=>t.value=p),placeholder:"选择一个条件..."},{default:d(()=>[(l(!0),h(w,null,V(u(ee),(p,v)=>(l(),_(u(G),{key:v,label:p.name,value:v},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),c(u(R),{onClick:i[1]||(i[1]=p=>r.$emit("remove"))},{default:d(()=>[T("移除该条件")]),_:1})]),a.value.name!=="EmptyCondition"?(l(),h("div",Ft,[(l(),_(ae(a.value),{ref_key:"componentRef",ref:o},null,512))])):B("",!0)]))}}),Ht=E(Qt,[["__scopeId","data-v-d2495be2"]]),Kt={class:"query_item_container"},Yt={key:0,class:"empty_tips"},zt={class:"operate"},Gt=k({__name:"index",setup(n,{expose:e}){const o=b([]),t=b([]),a=b(0);function s(){return new Promise(r=>{setTimeout(async()=>{if(!o.value.length)return a.value=0,[];let i=Object.values(N.DataHandle.nodeMap);for(const p of t.value)p.next&&(Object.prototype.toString.call(p.next)==="[object AsyncFunction]"?i=await p.next(i):i=p.next(i));a.value=i.length,r(i)})})}return e({queryNodes:s}),(r,i)=>(l(),h("div",{class:"query_wrapper",onClick:s},[y("div",Kt,[(l(!0),h(w,null,V(o.value,(p,v)=>(l(),_(Ht,{ref_for:!0,ref_key:"conditionsRef",ref:t,key:p,onRemove:g=>o.value.splice(v,1)},null,8,["onRemove"]))),128)),o.value.length===0?(l(),h("div",Yt,"❤ 什么条件都没有捏，点击下方添加筛选条件来筛♂选节点吧 ❤")):B("",!0)]),y("div",zt,[c(u(R),{onClick:i[0]||(i[0]=p=>o.value.push(+new Date))},{default:d(()=>[T("+ 添加筛选条件")]),_:1}),c(u(R),{type:"primary",disabled:!o.value.length||a.value===0,onClick:i[1]||(i[1]=p=>r.$emit("query"))},{default:d(()=>[T("查询节点(共"+O(a.value)+"个)",1)]),_:1},8,["disabled"])])]))}}),Jt=E(Gt,[["__scopeId","data-v-4f9dea58"]]),Wt={class:"title_container"},Xt=k({__name:"index",setup(n){const e=b(!1);function o(){e.value=!e.value}const t=b([]),a=b(),s=b(!1);function r(v,g){v.forEach(f=>{f.setPointSelected(g)})}async function i(){s.value=!0,t.value=await a.value?.queryNodes(),r(t.value,!0)}function p(){s.value=!1,r(t.value,!1)}return(v,g)=>(l(),h(w,null,[(l(),_(Me,{to:"body"},[c(bt,{show:e.value,"onUpdate:show":g[1]||(g[1]=f=>e.value=f)},{title:d(()=>[y("div",Wt,[T(" 根据条件查询节点 "),c(u(R),{onClick:g[0]||(g[0]=f=>e.value=!1)},{default:d(()=>[T("关闭")]),_:1})])]),default:d(()=>[(l(),_(Ie,null,[s.value?(l(),_(Pt,{key:1,nodes:t.value,onBack:p},null,8,["nodes"])):(l(),_(Jt,{key:0,ref_key:"QuerySelectRef",ref:a,onQuery:i},null,512))],1024))]),_:1},8,["show"])])),c(x,{popover:"根据条件查询节点","popover-width":180,onClick:o},{default:d(()=>[c(I,{name:"find",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1})],64))}}),Zt=E(Xt,[["__scopeId","data-v-03c5907a"]]),eo={__name:"Knowledge",setup(n){function e(){Y({type:"info",message:"功能还在开发中，敬请期待"})}return(o,t)=>(l(),_(x,{popover:"一些你可能需要的小知识","popover-width":180,onClick:e},{default:d(()=>[c(I,{name:"knowledge",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}};let te=null;const re=Ne("currentAnnouncement",{state:()=>({show:!1}),actions:{showDialog(){this.show=!0},hideDialog(){this.show=!1},toggleDialog(n){this.show=n},getCurrentAnnouncementComponent(){return te},setCurrentAnnouncementComponent(n){te=n}}}),to={class:"markdown-body"},oo=xe('<h2>网站访问建议</h2><p>建议本网站在 PC 端使用 chrome 浏览器进行访问</p><p>手机可以在页面设置里开启 <code class="">桌面版网站</code> 选项，并使用横屏浏览优化体验</p><p><strong>如果您的浏览器发现无法正常访问网站，或背景出现黑屏等问题，请更换您的浏览器至 Chrome 并选择最新版本！！！</strong></p><p>网页底部有一个小工具栏，鼠标悬浮 / 移动端点击后会主动悬浮出来，里面有比较实用的功能</p><h2>目前已开放功能</h2><ul><li>主地图 + 4 个固有陌域浏览</li><li>部分百变陌域地图预览（逐步更新）</li><li>各节点地图、资源查询</li><li>食谱网站访问</li></ul><h2>预计新增功能</h2><ul><li>每张图享有的特殊小知识</li><li>陌域地图池全补充</li><li>节点按文本、按资源、按类型搜索功能</li><li>最短路径查询功能</li><li>查询离某个节点最近的且包含指定资源节点的功能</li><li>节点地图增加实景图</li></ul><h2>声明 &amp; 感谢</h2><p>地图的贴图，文字说明均来源于官方数据，本站仅为了提升玩家游戏体验与方便查询地图而使用。其版权仍归官方所有！</p><p>地图的地形与方格图片来源于 <a href="https://space.bilibili.com/251015631">风云de寒冰</a> 大佬总结，在此表示感谢。</p><p>主地图数据填入 + 食谱外部页面制作由 <a href="https://space.bilibili.com/32256434">灯火橘Channel</a> 大佬制作，在此表示感谢。</p><p>百变陌域数据由 UP主 <a href="https://space.bilibili.com/43817229">时_坠</a> 大佬总结，在此表示感谢。</p><h2>地图制作与地图使用手册</h2><p>地图制作网页：<a href="https://qingxia-ela.github.io/reclamation-algorithm-map/edit">https://qingxia-ela.github.io/reclamation-algorithm-map/edit</a></p><p>地图制作文档：<a href="https://qingxia-ela.github.io/reclamation-algorithm-map/docs/edit">https://qingxia-ela.github.io/reclamation-algorithm-map/docs/edit</a></p><h2>联系我们</h2><p>地图交流QQ群：716767834</p>',19),no=[oo],ao=k({__name:"announcement",setup(n,{expose:e}){return e({frontmatter:{},excerpt:void 0}),(o,t)=>(l(),h("div",to,no))}}),lo={__name:"Notification",setup(n){const e=re();function o(){e.setCurrentAnnouncementComponent(ao),e.showDialog()}return L(()=>{setTimeout(()=>{sessionStorage.getItem("hasOpen")!=="true"&&(sessionStorage.setItem("hasOpen","true"),o())})}),(t,a)=>(l(),_(x,{popover:"网站更新公告","popover-width":180,onClick:o},{default:d(()=>[c(I,{name:"announce",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}};var so=[{name:"百变陌域模板-丘陵-基地中置-双环形",filename:"百变陌域模板-丘陵-基地中置-双环形"},{name:"百变陌域模板-丘陵-基地中置-通幽处",filename:"百变陌域模板-丘陵-基地中置-通幽处"},{name:"百变陌域模板-丘陵-基地右偏-倒梯形",filename:"百变陌域模板-丘陵-基地右偏-倒梯形"},{name:"百变陌域模板-丘陵-基地右偏-平行四边形",filename:"百变陌域模板-丘陵-基地右偏-平行四边形"},{name:"百变陌域模板-丘陵-基地左上偏-左上偏丘陵",filename:"百变陌域模板-丘陵-基地左上偏-左上偏丘陵"},{name:"百变陌域模板-险关-单线-下单线",filename:"百变陌域模板-险关-单线-下单线"},{name:"百变陌域模板-险关-单线-右单线",filename:"百变陌域模板-险关-单线-右单线"},{name:"百变陌域模板-险关-双线-右双线",filename:"百变陌域模板-险关-双线-右双线"},{name:"百变陌域模板-险关-双线-头脑双线",filename:"百变陌域模板-险关-双线-头脑双线"},{name:"百变陌域模板-险关-双线-左双线",filename:"百变陌域模板-险关-双线-左双线"},{name:"百变陌域模板-险关-双线-环形双线",filename:"百变陌域模板-险关-双线-环形双线"}];const ro={class:"type_title"},io={__name:"MapSwitch",props:{mapType:{},mapTypeModifiers:{}},emits:["update:mapType"],setup(n){const e=Ae(),o=C(()=>e.openMapSelect),t=z(n,"mapType"),a=X.filter(g=>g.fixed_dungeon);function s(g){const f={};for(const S of g){const[$,P,...q]=S.name.split("-"),m=`${$}-${P}`;f[m]||(f[m]=[]),f[m].push({value:S.filename,label:q.join("-")})}return Object.entries(f).map(([S,$])=>({title:S,value:$}))}const r=[{title:"主地图",value:[X[0]]},{title:"固定陌域",value:a},...s(so)];function i(g){le(g).then(async f=>{f.type!==N.type&&await N.changeMap(f,g)}).finally(()=>{v()})}function p(){e.setOpenMapSelect(!0)}function v(){e.setOpenMapSelect(!1)}return(g,f)=>(l(),h(w,null,[c(x,{popover:"查看其他区域的地图","popover-width":180,onClick:p},{default:d(()=>[c(I,{name:"map",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}),c(u(K),{modelValue:o.value,"onUpdate:modelValue":f[2]||(f[2]=S=>o.value=S),title:"选择要更换的地图","before-close":v,"append-to-body":""},{footer:d(()=>[c(u(R),{onClick:v},{default:d(()=>[T("取消")]),_:1}),c(u(R),{type:"primary",onClick:f[1]||(f[1]=S=>i(t.value))},{default:d(()=>[T("更换地图")]),_:1})]),default:d(()=>[(l(),h(w,null,V(r,S=>(l(),h(w,{key:S.title},[y("h3",ro,O(S.title),1),c(u(Oe),{modelValue:t.value,"onUpdate:modelValue":f[0]||(f[0]=$=>t.value=$)},{default:d(()=>[(l(!0),h(w,null,V(S.value,$=>(l(),_(u(Ve),{label:$.value,key:$.value,size:"large"},{default:d(()=>[T(O($.label?.length?$.label:$.value),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue"])],64))),64))]),_:1},8,["modelValue"])],64))}},po=E(io,[["__scopeId","data-v-adaebcc1"]]),uo={__name:"ResetCamera",setup(n){return(e,o)=>(l(),_(x,{popover:"回到地图中心","popover-width":180,onClick:o[0]||(o[0]=t=>u(N).setCameraPosition({x:0,y:0}))},{default:d(()=>[c(I,{name:"local",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}},co={__name:"DownloadCurrentMap",props:{mapType:{},mapTypeModifiers:{}},emits:["update:mapType"],setup(n){const e=z(n,"mapType");function o(t){le(t).then(a=>{Re(JSON.stringify(a),`生息演算地图_${t}.json`)})}return(t,a)=>(l(),_(x,{popover:"下载当前地图","popover-width":180,onClick:a[0]||(a[0]=s=>o(e.value))},{default:d(()=>[c(I,{name:"download",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}},mo={__name:"BluePrint",setup(n){function e(o){window.open(o)}return(o,t)=>(l(),_(x,{popover:"前往驻扎地蓝图建设（该功能由生息演算主题官网实现）","popover-width":180,onClick:t[0]||(t[0]=a=>e("https://ak.hypergryph.com/ra/taleswithinthesand/blueprint"))},{default:d(()=>[c(I,{name:"logo",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}},fo={key:1},vo=k({__name:"ViewAnimateRoute",setup(n){const e=b([]),o=b([]);return L(()=>{N.addEventListener("mapchange",t=>{o.value=t.highlightRoute||[]})}),oe(()=>e.value,t=>{N.stopAllHighlightRoute(),t.forEach(a=>N.highlightRoute(a))}),(t,a)=>(l(),_(x,{"popover-width":300,popover:"查看当前地图可用的高亮路线"},{popover:d(()=>[T(" 查看当前地图可用的高亮路线 "),o.value.length?(l(),_(u(De),{key:0,modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s)},{default:d(()=>[(l(!0),h(w,null,V(o.value,s=>(l(),_(u(Pe),{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):(l(),h("div",fo,"当前没有可用的高亮路线"))]),default:d(()=>[c(I,{name:"route",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}}),_o={__name:"index",setup(n){const e=b(!1);let o=null;function t(){clearTimeout(o),e.value=!0}function a(){o=setTimeout(()=>{e.value=!1},3e3)}const s=C(()=>({toolbar_wrapper:!0,show:e.value})),r=b("main");return(i,p)=>(l(),h("div",{class:U(s.value),onMouseenter:t,onMouseleave:a},[c(ft),c(mo),c(vt),c(Zt),c(uo),c(po,{mapType:r.value,"onUpdate:mapType":p[0]||(p[0]=v=>r.value=v)},null,8,["mapType"]),c(co,{mapType:r.value,"onUpdate:mapType":p[1]||(p[1]=v=>r.value=v)},null,8,["mapType"]),c(vo),c(eo),c(lo)],34))}},ho=E(_o,[["__scopeId","data-v-f92ee20b"]]),yo={class:"dialog"},go={__name:"index",setup(n){const e=re(),o=C(()=>e.getCurrentAnnouncementComponent());return(t,a)=>(l(),_(u(K),{width:"40rem",top:"15vh",title:"公告",modelValue:u(e).show,"onUpdate:modelValue":a[2]||(a[2]=s=>u(e).show=s),onClose:a[3]||(a[3]=s=>u(e).hideDialog())},{footer:d(()=>[c(u(R),{onClick:a[0]||(a[0]=s=>u(e).hideDialog())},{default:d(()=>[T("确认")]),_:1}),c(u(R),{onClick:a[1]||(a[1]=s=>u(e).hideDialog()),type:"primary"},{default:d(()=>[T("确定")]),_:1})]),default:d(()=>[y("div",yo,[(l(),_(ae(o.value)))])]),_:1},8,["modelValue"]))}},bo=E(go,[["__scopeId","data-v-a5561ca6"]]),wo={__name:"index",setup(n){return L(()=>{Y({title:"提示",message:"当前为生产环境部署页面，背景加载速度较慢，请耐心等待",type:"warning",duration:1e4})}),(e,o)=>(l(),h(w,null,[c(ho),c(Be),c(bo)],64))}},$o=k({__name:"App",setup(n){const e=wo;return(o,t)=>(l(),_(u(e)))}});window.MapCore=N;N.loadDefaultData();const ie=Ue($o);ie.use(Le);ie.mount("#app");
