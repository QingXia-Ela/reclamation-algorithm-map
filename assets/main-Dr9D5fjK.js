import{_ as F,d as I,r as A,a as S,p as q,i as oe,o as K,u as l,b as ne,c as V,e as j,f as w,g as N,h as ae,j as se,k as $,l as re,m as le,n as i,q as y,w as c,s as b,t as z,v as B,x,y as O,z as ie,E as pe,A as ue,B as ce,C as M,D as C,F as r,G as H,H as T,I as de,J as fe,K as J,L as me,M as Q,N as ve,O as _e,P as he,T as ye,Q as ge,R as be,S as we,U as G,V as P,W,X as $e,Y as Ce,Z as U,$ as Se,a0 as Te,a1 as Ie,a2 as Me,a3 as ke}from"./virtual_svg-icons-register-Bx04OQb2.js";const Ee=I({inheritAttrs:!1});function Ne(t,e,n,o,a,p){return A(t.$slots,"default")}var Ae=F(Ee,[["render",Ne],["__file","collection.vue"]]);const Oe=I({name:"ElCollectionItem",inheritAttrs:!1});function De(t,e,n,o,a,p){return A(t.$slots,"default")}var Be=F(Oe,[["render",De],["__file","collection-item.vue"]]);const Ue="data-el-collection-item",xe=t=>{const e=`El${t}Collection`,n=`${e}Item`,o=Symbol(e),a=Symbol(n),p={...Ae,name:e,setup(){const m=S(null),g=new Map;q(o,{itemMap:g,getItems:()=>{const d=l(m);if(!d)return[];const u=Array.from(d.querySelectorAll(`[${Ue}]`));return[...g.values()].sort((_,D)=>u.indexOf(_.ref)-u.indexOf(D.ref))},collectionRef:m})}},f={...Be,name:n,setup(m,{attrs:g}){const v=S(null),d=oe(o,void 0);q(a,{collectionItemRef:v}),K(()=>{const u=l(v);u&&d.itemMap.set(u,{ref:u,...g})}),ne(()=>{const u=l(v);d.itemMap.delete(u)})}};return{COLLECTION_INJECTION_KEY:o,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:p,ElCollectionItem:f}},R=V({trigger:j.trigger,effect:{...w.effect,default:"light"},type:{type:N(String)},placement:{type:N(String),default:"bottom"},popperOptions:{type:N(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:N([Number,String]),default:0},maxHeight:{type:N([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:N(Object)},teleported:w.teleported});V({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:ae}});V({onKeydown:{type:N(Function)}});xe("Dropdown");const Pe=V({trigger:j.trigger,placement:R.placement,disabled:j.disabled,visible:w.visible,transition:w.transition,popperOptions:R.popperOptions,tabindex:R.tabindex,content:w.content,popperStyle:w.popperStyle,popperClass:w.popperClass,enterable:{...w.enterable,default:!0},effect:{...w.effect,default:"light"},teleported:w.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Ve={"update:visible":t=>se(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Le="onUpdate:visible",Re=I({name:"ElPopover"}),je=I({...Re,props:Pe,emits:Ve,setup(t,{expose:e,emit:n}){const o=t,a=$(()=>o[Le]),p=re("popover"),f=S(),m=$(()=>{var s;return(s=l(f))==null?void 0:s.popperRef}),g=$(()=>[{width:le(o.width)},o.popperStyle]),v=$(()=>[p.b(),o.popperClass,{[p.m("plain")]:!!o.content}]),d=$(()=>o.transition===`${p.namespace.value}-fade-in-linear`),u=()=>{var s;(s=f.value)==null||s.hide()},h=()=>{n("before-enter")},_=()=>{n("before-leave")},D=()=>{n("after-enter")},L=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:m,hide:u}),(s,At)=>(i(),y(l(pe),ie({ref_key:"tooltipRef",ref:f},s.$attrs,{trigger:s.trigger,placement:s.placement,disabled:s.disabled,visible:s.visible,transition:s.transition,"popper-options":s.popperOptions,tabindex:s.tabindex,content:s.content,offset:s.offset,"show-after":s.showAfter,"hide-after":s.hideAfter,"auto-close":s.autoClose,"show-arrow":s.showArrow,"aria-label":s.title,effect:s.effect,enterable:s.enterable,"popper-class":l(v),"popper-style":l(g),teleported:s.teleported,persistent:s.persistent,"gpu-acceleration":l(d),"onUpdate:visible":l(a),onBeforeShow:h,onBeforeHide:_,onShow:D,onHide:L}),{content:c(()=>[s.title?(i(),b("div",{key:0,class:z(l(p).e("title")),role:"title"},B(s.title),3)):x("v-if",!0),A(s.$slots,"default",{},()=>[O(B(s.content),1)])]),default:c(()=>[s.$slots.reference?A(s.$slots,"reference",{key:0}):x("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Fe=F(je,[["__file","popover.vue"]]);const Y=(t,e)=>{const n=e.arg||e.value,o=n?.popperRef;o&&(o.triggerRef=t)};var Ke={mounted(t,e){Y(t,e)},updated(t,e){Y(t,e)}};const ze="popover",He=ue(Ke,ze),Je=ce(Fe,{directive:He}),Qe=t=>t.split("-").includes("百变陌域模板")?`rift/${t}.json`:`map_${t}.json`;async function Z(t,e=""){const n=Qe(t);return await(await fetch(`${e}maps/${n}`)).json()}const qe={__name:"OperateButton",props:{disabled:Boolean,popover:String,popoverWidth:{type:Number,default:300}},emits:["click"],setup(t){const e=t,n=$(()=>({operate_button:!0,disabled:e.disabled})),o=S(!1);let a=null;function p(){a=setTimeout(()=>{o.value=!0},300)}function f(){clearTimeout(a),o.value=!1}return(m,g)=>(i(),y(l(Je),{placement:"top",disabled:!e.popover,content:e.popover,"popper-style":"text-align: center",visible:o.value,width:e.popoverWidth},{reference:c(()=>[C("div",{class:z(n.value),onClick:g[0]||(g[0]=v=>m.$emit("click")),onMouseenter:p,onMouseleave:f},[A(m.$slots,"default",{},void 0,!0)],34)]),_:3},8,["disabled","content","visible","width"]))}},k=M(qe,[["__scopeId","data-v-d440c99d"]]),Ge={"aria-hidden":"true",class:"svg"},We=["xlink:href","fill"],Ye={__name:"SvgIcon",props:{prefix:{type:String,default:"icon"},name:{type:String,required:!0},color:{type:String,default:"#333"}},setup(t){const e=t,n=$(()=>`#${e.prefix}-${e.name}`);return(o,a)=>(i(),b("svg",Ge,[C("use",{"xlink:href":n.value,fill:t.color},null,8,We)]))}},E=M(Ye,[["__scopeId","data-v-47352943"]]),Xe=t=>(de("data-v-199ba81d"),t=t(),fe(),t),Ze=Xe(()=>C("div",{class:"iframe_wrapper"},[C("iframe",{src:"https://luotianorange.github.io/SXYS-tools/",class:"iframe",frameborder:"0"})],-1)),et={__name:"CheckFoodFormula",setup(t){const e=S(!1);return(n,o)=>(i(),b(T,null,[r(k,{popover:"查看游戏内所有食谱（该功能由外部网站实现）","popover-width":200,onClick:o[0]||(o[0]=a=>e.value=!0)},{default:c(()=>[r(E,{name:"cook",color:"#fff",style:{width:"1.6rem",height:"1.6rem"}})]),_:1}),r(l(H),{width:"80%",top:"5vh",theme:"dark",title:"生息演算在线工具",modelValue:e.value,"onUpdate:modelValue":o[1]||(o[1]=a=>e.value=a),onClose:o[2]||(o[2]=a=>e.value=!1),"append-to-body":""},{default:c(()=>[Ze]),_:1},8,["modelValue"])],64))}},tt=M(et,[["__scopeId","data-v-199ba81d"]]),ot={__name:"QueryShortestRoad",setup(t){function e(){J({type:"info",message:"功能还在开发中，敬请期待"})}return(n,o)=>(i(),y(k,{popover:"查询两个节点的最短路线","popover-width":180,onClick:e},{default:c(()=>[r(E,{name:"connect",color:"#fff",style:{width:"1.6rem",height:"1.6rem"}})]),_:1}))}},nt={class:"title"},at={class:"sidebar_container"},st={class:"bottom_operate"},rt=I({__name:"index",props:me({title:{},useMask:{type:Boolean}},{show:{default:!1},showModifiers:{}}),emits:["update:show"],setup(t){const e=Q(t,"show"),n=t,o=S(!1),a=S(!0);let p=null;return ve(()=>e.value,f=>{clearTimeout(p),f?(a.value=!1,setTimeout(()=>{o.value=!0})):(o.value=!1,p=setTimeout(()=>{a.value=!0},300))}),(f,m)=>(i(),b(T,null,[n.useMask?(i(),y(_e,{key:0,active:o.value,opacity:0},null,8,["active"])):x("",!0),C("div",{class:"sidebar_wrapper",style:he({display:a.value?"none":"flex",opacity:o.value?1:0,pointerEvents:o.value?"auto":"none"})},[C("div",nt,B(n.title),1),C("div",at,[A(f.$slots,"default",{},void 0,!0)]),C("div",st,[A(f.$slots,"bottom",{},void 0,!0)])],4)],64))}}),lt=M(rt,[["__scopeId","data-v-e1889492"]]),it={};function pt(t,e){return" test "}const ut=M(it,[["render",pt]]),ct=I({__name:"index",setup(t){function e(){n.value=!n.value}const n=S(!1);return(o,a)=>(i(),b(T,null,[(i(),y(ye,{to:"body"},[r(lt,{title:"根据条件查询节点",show:n.value,"onUpdate:show":a[0]||(a[0]=p=>n.value=p)},{default:c(()=>[r(ut)]),_:1},8,["show"])])),r(k,{popover:"根据条件查询节点","popover-width":180,onClick:e},{default:c(()=>[r(E,{name:"find",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1})],64))}}),dt={__name:"Knowledge",setup(t){function e(){J({type:"info",message:"功能还在开发中，敬请期待"})}return(n,o)=>(i(),y(k,{popover:"一些你可能需要的小知识","popover-width":180,onClick:e},{default:c(()=>[r(E,{name:"knowledge",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}};let X=null;const ee=ge("currentAnnouncement",{state:()=>({show:!1}),actions:{showDialog(){this.show=!0},hideDialog(){this.show=!1},toggleDialog(t){this.show=t},getCurrentAnnouncementComponent(){return X},setCurrentAnnouncementComponent(t){X=t}}}),ft={class:"markdown-body"},mt=be('<h2>网站访问建议</h2><p>建议本网站在 PC 端使用 chrome 浏览器进行访问</p><p>手机可以在页面设置里开启 <code class="">桌面版网站</code> 选项，并使用横屏浏览优化体验</p><p><strong>如果您的浏览器发现无法正常访问网站，或背景出现黑屏等问题，请更换您的浏览器至 Chrome 并选择最新版本！！！</strong></p><p>网页底部有一个小工具栏，鼠标悬浮 / 移动端点击后会主动悬浮出来，里面有比较实用的功能</p><h2>目前已开放功能</h2><ul><li>主地图 + 4 个固有陌域浏览</li><li>部分百变陌域地图预览（逐步更新）</li><li>各节点地图、资源查询</li><li>食谱网站访问</li></ul><h2>预计新增功能</h2><ul><li>每张图享有的特殊小知识</li><li>陌域地图池全补充</li><li>节点按文本、按资源、按类型搜索功能</li><li>最短路径查询功能</li><li>查询离某个节点最近的且包含指定资源节点的功能</li><li>节点地图增加实景图</li></ul><h2>声明 &amp; 感谢</h2><p>地图的贴图，文字说明均来源于官方数据，本站仅为了提升玩家游戏体验与方便查询地图而使用。其版权仍归官方所有！</p><p>百变陌域数据由 UP主 <a href="https://space.bilibili.com/43817229">时_坠</a> 大佬总结，在此表示感谢。</p><h2>地图制作与地图使用手册</h2><p>地图制作网页：<a href="http://shiinafan.gitee.io/reclamation-algorithm-map/edit">http://shiinafan.gitee.io/reclamation-algorithm-map/edit</a></p><p>地图制作文档：<a href="http://shiinafan.gitee.io/reclamation-algorithm-map/docs/edit">http://shiinafan.gitee.io/reclamation-algorithm-map/docs/edit</a></p><h2>联系我们</h2><p>地图交流QQ群：716767834</p>',17),vt=[mt],_t=I({__name:"announcement",setup(t,{expose:e}){return e({frontmatter:{},excerpt:void 0}),(n,o)=>(i(),b("div",ft,vt))}}),ht={__name:"Notification",setup(t){const e=ee();function n(){e.setCurrentAnnouncementComponent(_t),e.showDialog()}return K(()=>{setTimeout(()=>{sessionStorage.getItem("hasOpen")!=="true"&&(sessionStorage.setItem("hasOpen","true"),n())})}),(o,a)=>(i(),y(k,{popover:"网站更新公告","popover-width":180,onClick:n},{default:c(()=>[r(E,{name:"announce",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}};var yt=[{name:"百变陌域模板-丘陵-基地中置-双环形",filename:"百变陌域模板-丘陵-基地中置-双环形"},{name:"百变陌域模板-丘陵-基地中置-通幽处",filename:"百变陌域模板-丘陵-基地中置-通幽处"},{name:"百变陌域模板-丘陵-基地右偏-倒梯形",filename:"百变陌域模板-丘陵-基地右偏-倒梯形"},{name:"百变陌域模板-丘陵-基地右偏-平行四边形",filename:"百变陌域模板-丘陵-基地右偏-平行四边形"},{name:"百变陌域模板-丘陵-基地左上偏-左上偏丘陵",filename:"百变陌域模板-丘陵-基地左上偏-左上偏丘陵"},{name:"百变陌域模板-险关-单线-下单线",filename:"百变陌域模板-险关-单线-下单线"},{name:"百变陌域模板-险关-单线-右单线",filename:"百变陌域模板-险关-单线-右单线"},{name:"百变陌域模板-险关-双线-右双线",filename:"百变陌域模板-险关-双线-右双线"},{name:"百变陌域模板-险关-双线-头脑双线",filename:"百变陌域模板-险关-双线-头脑双线"},{name:"百变陌域模板-险关-双线-左双线",filename:"百变陌域模板-险关-双线-左双线"},{name:"百变陌域模板-险关-双线-环形双线",filename:"百变陌域模板-险关-双线-环形双线"}];const gt={class:"type_title"},bt={__name:"MapSwitch",props:{mapType:{},mapTypeModifiers:{}},emits:["update:mapType"],setup(t){const e=we(),n=$(()=>e.openMapSelect),o=Q(t,"mapType"),a=G.filter(d=>d.fixed_dungeon);function p(d){const u={};for(const h of d){const[_,D,...L]=h.name.split("-"),s=`${_}-${D}`;u[s]||(u[s]=[]),u[s].push({value:h.filename,label:L.join("-")})}return Object.entries(u).map(([h,_])=>({title:h,value:_}))}const f=[{title:"主地图",value:[G[0]]},{title:"固定陌域",value:a},...p(yt)];function m(d){Z(d).then(async u=>{u.type!==U.type&&await U.changeMap(u,d)}).finally(()=>{v()})}function g(){e.setOpenMapSelect(!0)}function v(){e.setOpenMapSelect(!1)}return(d,u)=>(i(),b(T,null,[r(k,{popover:"查看其他区域的地图","popover-width":180,onClick:g},{default:c(()=>[r(E,{name:"map",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}),r(l(H),{modelValue:n.value,"onUpdate:modelValue":u[2]||(u[2]=h=>n.value=h),title:"选择要更换的地图","before-close":v,"append-to-body":""},{footer:c(()=>[r(l(P),{onClick:v},{default:c(()=>[O("取消")]),_:1}),r(l(P),{type:"primary",onClick:u[1]||(u[1]=h=>m(o.value))},{default:c(()=>[O("更换地图")]),_:1})]),default:c(()=>[(i(),b(T,null,W(f,h=>(i(),b(T,{key:h.title},[C("h3",gt,B(h.title),1),r(l($e),{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=_=>o.value=_)},{default:c(()=>[(i(!0),b(T,null,W(h.value,_=>(i(),y(l(Ce),{label:_.value,key:_.value,size:"large"},{default:c(()=>[O(B(_.label?.length?_.label:_.value),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue"])],64))),64))]),_:1},8,["modelValue"])],64))}},wt=M(bt,[["__scopeId","data-v-adaebcc1"]]),$t={__name:"ResetCamera",setup(t){return(e,n)=>(i(),y(k,{popover:"回到地图中心","popover-width":180,onClick:n[0]||(n[0]=o=>l(U).setCameraPosition({x:0,y:0}))},{default:c(()=>[r(E,{name:"local",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}},Ct={__name:"DownloadCurrentMap",props:{mapType:{},mapTypeModifiers:{}},emits:["update:mapType"],setup(t){const e=Q(t,"mapType");function n(o){Z(o).then(a=>{Se(JSON.stringify(a),`生息演算地图_${o}.json`)})}return(o,a)=>(i(),y(k,{popover:"下载当前地图","popover-width":180,onClick:a[0]||(a[0]=p=>n(e.value))},{default:c(()=>[r(E,{name:"download",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}},St={__name:"index",setup(t){const e=S(!1);let n=null;function o(){clearTimeout(n),e.value=!0}function a(){n=setTimeout(()=>{e.value=!1},3e3)}const p=$(()=>({toolbar_wrapper:!0,show:e.value})),f=!1,m=S("main");return(g,v)=>(i(),b("div",{class:z(p.value),onMouseenter:o,onMouseleave:a},[r(tt),r(ot),l(f)?(i(),y(ct,{key:0})):x("",!0),r($t),r(wt,{mapType:m.value,"onUpdate:mapType":v[0]||(v[0]=d=>m.value=d)},null,8,["mapType"]),r(Ct,{mapType:m.value,"onUpdate:mapType":v[1]||(v[1]=d=>m.value=d)},null,8,["mapType"]),r(dt),r(ht)],34))}},Tt=M(St,[["__scopeId","data-v-009ad27b"]]),It={class:"dialog"},Mt={__name:"index",setup(t){const e=ee(),n=$(()=>e.getCurrentAnnouncementComponent());return(o,a)=>(i(),y(l(H),{width:"40rem",top:"15vh",title:"公告",modelValue:l(e).show,"onUpdate:modelValue":a[2]||(a[2]=p=>l(e).show=p),onClose:a[3]||(a[3]=p=>l(e).hideDialog())},{footer:c(()=>[r(l(P),{onClick:a[0]||(a[0]=p=>l(e).hideDialog())},{default:c(()=>[O("确认")]),_:1}),r(l(P),{onClick:a[1]||(a[1]=p=>l(e).hideDialog()),type:"primary"},{default:c(()=>[O("确定")]),_:1})]),default:c(()=>[C("div",It,[(i(),y(Te(n.value)))])]),_:1},8,["modelValue"]))}},kt=M(Mt,[["__scopeId","data-v-a5561ca6"]]),Et={__name:"index",setup(t){return K(()=>{J({title:"提示",message:"当前为生产环境部署页面，背景加载速度较慢，请耐心等待",type:"warning",duration:1e4})}),(e,n)=>(i(),b(T,null,[r(Tt),r(Ie),r(kt)],64))}},Nt=I({__name:"App",setup(t){const e=Et;return(n,o)=>(i(),y(l(e)))}});window.MapCore=U;const te=Me(Nt);te.use(ke);te.mount("#app");U.loadDefaultData();
