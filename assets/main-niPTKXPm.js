import{_ as F,d as k,r as D,a as I,p as z,i as oe,o as K,u as s,b as ne,c as U,e as j,f as b,g as T,h as ae,j as re,k as w,l as le,m as se,n as u,q as g,w as p,s as C,t as H,v as P,x as G,y as M,z as ie,E as pe,A as ue,B as ce,C as A,D as N,F as l,G as J,H as E,I as de,J as me,K as x,L as fe,M as _e,N as ve,O as X,P as Q,Q as V,R as W,S as he,T as ge,U as B,V as ye,W as be,X as we,Y as Ce,Z as $e}from"./virtual_svg-icons-register-DcSOY8-p.js";const Se=k({inheritAttrs:!1});function Te(t,e,n,o,r,c){return D(t.$slots,"default")}var Ie=F(Se,[["render",Te],["__file","collection.vue"]]);const Ee=k({name:"ElCollectionItem",inheritAttrs:!1});function Me(t,e,n,o,r,c){return D(t.$slots,"default")}var Ne=F(Ee,[["render",Me],["__file","collection-item.vue"]]);const ke="data-el-collection-item",Ae=t=>{const e=`El${t}Collection`,n=`${e}Item`,o=Symbol(e),r=Symbol(n),c={...Ie,name:e,setup(){const y=I(null),d=new Map;z(o,{itemMap:d,getItems:()=>{const f=s(y);if(!f)return[];const i=Array.from(f.querySelectorAll(`[${ke}]`));return[...d.values()].sort((_,O)=>i.indexOf(_.ref)-i.indexOf(O.ref))},collectionRef:y})}},v={...Ne,name:n,setup(y,{attrs:d}){const m=I(null),f=oe(o,void 0);z(r,{collectionItemRef:m}),K(()=>{const i=s(m);i&&f.itemMap.set(i,{ref:i,...d})}),ne(()=>{const i=s(m);f.itemMap.delete(i)})}};return{COLLECTION_INJECTION_KEY:o,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:c,ElCollectionItem:v}},R=U({trigger:j.trigger,effect:{...b.effect,default:"light"},type:{type:T(String)},placement:{type:T(String),default:"bottom"},popperOptions:{type:T(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:T([Number,String]),default:0},maxHeight:{type:T([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:T(Object)},teleported:b.teleported});U({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:ae}});U({onKeydown:{type:T(Function)}});Ae("Dropdown");const Oe=U({trigger:j.trigger,placement:R.placement,disabled:j.disabled,visible:b.visible,transition:b.transition,popperOptions:R.popperOptions,tabindex:R.tabindex,content:b.content,popperStyle:b.popperStyle,popperClass:b.popperClass,enterable:{...b.enterable,default:!0},effect:{...b.effect,default:"light"},teleported:b.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),De={"update:visible":t=>re(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Be="onUpdate:visible",Pe=k({name:"ElPopover"}),Ve=k({...Pe,props:Oe,emits:De,setup(t,{expose:e,emit:n}){const o=t,r=w(()=>o[Be]),c=le("popover"),v=I(),y=w(()=>{var a;return(a=s(v))==null?void 0:a.popperRef}),d=w(()=>[{width:se(o.width)},o.popperStyle]),m=w(()=>[c.b(),o.popperClass,{[c.m("plain")]:!!o.content}]),f=w(()=>o.transition===`${c.namespace.value}-fade-in-linear`),i=()=>{var a;(a=v.value)==null||a.hide()},h=()=>{n("before-enter")},_=()=>{n("before-leave")},O=()=>{n("after-enter")},L=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:y,hide:i}),(a,gt)=>(u(),g(s(pe),ie({ref_key:"tooltipRef",ref:v},a.$attrs,{trigger:a.trigger,placement:a.placement,disabled:a.disabled,visible:a.visible,transition:a.transition,"popper-options":a.popperOptions,tabindex:a.tabindex,content:a.content,offset:a.offset,"show-after":a.showAfter,"hide-after":a.hideAfter,"auto-close":a.autoClose,"show-arrow":a.showArrow,"aria-label":a.title,effect:a.effect,enterable:a.enterable,"popper-class":s(m),"popper-style":s(d),teleported:a.teleported,persistent:a.persistent,"gpu-acceleration":s(f),"onUpdate:visible":s(r),onBeforeShow:h,onBeforeHide:_,onShow:O,onHide:L}),{content:p(()=>[a.title?(u(),C("div",{key:0,class:H(s(c).e("title")),role:"title"},P(a.title),3)):G("v-if",!0),D(a.$slots,"default",{},()=>[M(P(a.content),1)])]),default:p(()=>[a.$slots.reference?D(a.$slots,"reference",{key:0}):G("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Ue=F(Ve,[["__file","popover.vue"]]);const Y=(t,e)=>{const n=e.arg||e.value,o=n?.popperRef;o&&(o.triggerRef=t)};var xe={mounted(t,e){Y(t,e)},updated(t,e){Y(t,e)}};const Le="popover",Re=ue(xe,Le),je=ce(Ue,{directive:Re}),Fe=t=>t.split("-").includes("百变陌域模板")?`rift/${t}.json`:`map_${t}.json`;async function Z(t,e=""){const n=Fe(t);return await(await fetch(`${e}maps/${n}`)).json()}const Ke={__name:"OperateButton",props:{disabled:Boolean,popover:String,popoverWidth:{type:Number,default:300}},emits:["click"],setup(t){const e=t,n=w(()=>({operate_button:!0,disabled:e.disabled})),o=I(!1);let r=null;function c(){r=setTimeout(()=>{o.value=!0},300)}function v(){clearTimeout(r),o.value=!1}return(y,d)=>(u(),g(s(je),{placement:"top",disabled:!e.popover,content:e.popover,"popper-style":"text-align: center",visible:o.value,width:e.popoverWidth},{reference:p(()=>[N("div",{class:H(n.value),onClick:d[0]||(d[0]=m=>y.$emit("click")),onMouseenter:c,onMouseleave:v},[D(y.$slots,"default",{},void 0,!0)],34)]),_:3},8,["disabled","content","visible","width"]))}},$=A(Ke,[["__scopeId","data-v-d440c99d"]]),He={"aria-hidden":"true",class:"svg"},Je=["xlink:href","fill"],ze={__name:"SvgIcon",props:{prefix:{type:String,default:"icon"},name:{type:String,required:!0},color:{type:String,default:"#333"}},setup(t){const e=t,n=w(()=>`#${e.prefix}-${e.name}`);return(o,r)=>(u(),C("svg",He,[N("use",{"xlink:href":n.value,fill:t.color},null,8,Je)]))}},S=A(ze,[["__scopeId","data-v-47352943"]]),Ge=t=>(de("data-v-199ba81d"),t=t(),me(),t),Qe=Ge(()=>N("div",{class:"iframe_wrapper"},[N("iframe",{src:"https://luotianorange.github.io/SXYS-tools/",class:"iframe",frameborder:"0"})],-1)),We={__name:"CheckFoodFormula",setup(t){const e=I(!1);return(n,o)=>(u(),C(E,null,[l($,{popover:"查看游戏内所有食谱（该功能由外部网站实现）","popover-width":200,onClick:o[0]||(o[0]=r=>e.value=!0)},{default:p(()=>[l(S,{name:"cook",color:"#fff",style:{width:"1.6rem",height:"1.6rem"}})]),_:1}),l(s(J),{width:"80%",top:"5vh",theme:"dark",title:"生息演算在线工具",modelValue:e.value,"onUpdate:modelValue":o[1]||(o[1]=r=>e.value=r),onClose:o[2]||(o[2]=r=>e.value=!1),"append-to-body":""},{default:p(()=>[Qe]),_:1},8,["modelValue"])],64))}},Ye=A(We,[["__scopeId","data-v-199ba81d"]]),qe={__name:"QueryShortestRoad",setup(t){function e(){x({type:"info",message:"功能还在开发中，敬请期待"})}return(n,o)=>(u(),g($,{popover:"查询两个节点的最短路线","popover-width":180,onClick:e},{default:p(()=>[l(S,{name:"connect",color:"#fff",style:{width:"1.6rem",height:"1.6rem"}})]),_:1}))}},Xe={__name:"FindNode",setup(t){function e(){x({type:"info",message:"功能还在开发中，敬请期待"})}return(n,o)=>(u(),g($,{popover:"查找指定类型的节点","popover-width":180,onClick:e},{default:p(()=>[l(S,{name:"find",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}},Ze={__name:"Knowledge",setup(t){function e(){x({type:"info",message:"功能还在开发中，敬请期待"})}return(n,o)=>(u(),g($,{popover:"一些你可能需要的小知识","popover-width":180,onClick:e},{default:p(()=>[l(S,{name:"knowledge",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}};let q=null;const ee=fe("currentAnnouncement",{state:()=>({show:!1}),actions:{showDialog(){this.show=!0},hideDialog(){this.show=!1},toggleDialog(t){this.show=t},getCurrentAnnouncementComponent(){return q},setCurrentAnnouncementComponent(t){q=t}}}),et={class:"markdown-body"},tt=_e('<h2>网站访问建议</h2><p>建议本网站在 PC 端使用 chrome 浏览器进行访问</p><p>手机可以在页面设置里开启 <code class="">桌面版网站</code> 选项，并使用横屏浏览优化体验</p><p><strong>如果您的浏览器发现无法正常访问网站，或背景出现黑屏等问题，请更换您的浏览器至 Chrome 并选择最新版本！！！</strong></p><p>网页底部有一个小工具栏，鼠标悬浮 / 移动端点击后会主动悬浮出来，里面有比较实用的功能</p><h2>目前已开放功能</h2><ul><li>主地图 + 4 个固有陌域浏览</li><li>部分百变陌域地图预览（逐步更新）</li><li>各节点地图、资源查询</li><li>食谱网站访问</li></ul><h2>预计新增功能</h2><ul><li>每张图享有的特殊小知识</li><li>陌域地图池全补充</li><li>节点按文本、按资源、按类型搜索功能</li><li>最短路径查询功能</li><li>查询离某个节点最近的且包含指定资源节点的功能</li><li>节点地图增加实景图</li></ul><h2>声明 &amp; 感谢</h2><p>地图的贴图，文字说明均来源于官方数据，本站仅为了提升玩家游戏体验与方便查询地图而使用。其版权仍归官方所有！</p><p>百变陌域数据由 UP主 <a href="https://space.bilibili.com/43817229">时_坠</a> 大佬总结，在此表示感谢。</p><h2>地图制作与地图使用手册</h2><p>地图制作网页：<a href="http://shiinafan.gitee.io/reclamation-algorithm-map/edit">http://shiinafan.gitee.io/reclamation-algorithm-map/edit</a></p><p>地图制作文档：<a href="http://shiinafan.gitee.io/reclamation-algorithm-map/docs/edit">http://shiinafan.gitee.io/reclamation-algorithm-map/docs/edit</a></p><h2>联系我们</h2><p>地图交流QQ群：716767834</p>',17),ot=[tt],nt=k({__name:"announcement",setup(t,{expose:e}){return e({frontmatter:{},excerpt:void 0}),(n,o)=>(u(),C("div",et,ot))}}),at={__name:"Notification",setup(t){const e=ee();function n(){e.setCurrentAnnouncementComponent(nt),e.showDialog()}return K(()=>{setTimeout(()=>{sessionStorage.getItem("hasOpen")!=="true"&&(sessionStorage.setItem("hasOpen","true"),n())})}),(o,r)=>(u(),g($,{popover:"网站更新公告","popover-width":180,onClick:n},{default:p(()=>[l(S,{name:"announce",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}};var rt=[{name:"百变陌域模板-丘陵-基地中置-双环形",filename:"百变陌域模板-丘陵-基地中置-双环形"},{name:"百变陌域模板-丘陵-基地中置-通幽处",filename:"百变陌域模板-丘陵-基地中置-通幽处"},{name:"百变陌域模板-丘陵-基地右偏-倒梯形",filename:"百变陌域模板-丘陵-基地右偏-倒梯形"},{name:"百变陌域模板-丘陵-基地右偏-平行四边形",filename:"百变陌域模板-丘陵-基地右偏-平行四边形"},{name:"百变陌域模板-丘陵-基地左上偏-左上偏丘陵",filename:"百变陌域模板-丘陵-基地左上偏-左上偏丘陵"},{name:"百变陌域模板-险关-单线-下单线",filename:"百变陌域模板-险关-单线-下单线"},{name:"百变陌域模板-险关-单线-右单线",filename:"百变陌域模板-险关-单线-右单线"},{name:"百变陌域模板-险关-双线-右双线",filename:"百变陌域模板-险关-双线-右双线"},{name:"百变陌域模板-险关-双线-头脑双线",filename:"百变陌域模板-险关-双线-头脑双线"},{name:"百变陌域模板-险关-双线-左双线",filename:"百变陌域模板-险关-双线-左双线"},{name:"百变陌域模板-险关-双线-环形双线",filename:"百变陌域模板-险关-双线-环形双线"}];const lt={class:"type_title"},st={__name:"MapSwitch",props:{mapType:{},mapTypeModifiers:{}},emits:["update:mapType"],setup(t){const e=ve(),n=w(()=>e.openMapSelect),o=X(t,"mapType"),r=Q.filter(f=>f.fixed_dungeon);function c(f){const i={};for(const h of f){const[_,O,...L]=h.name.split("-"),a=`${_}-${O}`;i[a]||(i[a]=[]),i[a].push({value:h.filename,label:L.join("-")})}return Object.entries(i).map(([h,_])=>({title:h,value:_}))}const v=[{title:"主地图",value:[Q[0]]},{title:"固定陌域",value:r},...c(rt)];function y(f){Z(f).then(async i=>{i.type!==B.type&&await B.changeMap(i,f)}).finally(()=>{m()})}function d(){e.setOpenMapSelect(!0)}function m(){e.setOpenMapSelect(!1)}return(f,i)=>(u(),C(E,null,[l($,{popover:"查看其他区域的地图","popover-width":180,onClick:d},{default:p(()=>[l(S,{name:"map",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}),l(s(J),{modelValue:n.value,"onUpdate:modelValue":i[2]||(i[2]=h=>n.value=h),title:"选择要更换的地图","before-close":m,"append-to-body":""},{footer:p(()=>[l(s(V),{onClick:m},{default:p(()=>[M("取消")]),_:1}),l(s(V),{type:"primary",onClick:i[1]||(i[1]=h=>y(o.value))},{default:p(()=>[M("更换地图")]),_:1})]),default:p(()=>[(u(),C(E,null,W(v,h=>(u(),C(E,{key:h.title},[N("h3",lt,P(h.title),1),l(s(he),{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=_=>o.value=_)},{default:p(()=>[(u(!0),C(E,null,W(h.value,_=>(u(),g(s(ge),{label:_.value,key:_.value,size:"large"},{default:p(()=>[M(P(_.label?.length?_.label:_.value),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue"])],64))),64))]),_:1},8,["modelValue"])],64))}},it=A(st,[["__scopeId","data-v-adaebcc1"]]),pt={__name:"ResetCamera",setup(t){return(e,n)=>(u(),g($,{popover:"回到地图中心","popover-width":180,onClick:n[0]||(n[0]=o=>s(B).setCameraPosition({x:0,y:0}))},{default:p(()=>[l(S,{name:"local",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}},ut={__name:"DownloadCurrentMap",props:{mapType:{},mapTypeModifiers:{}},emits:["update:mapType"],setup(t){const e=X(t,"mapType");function n(o){Z(o).then(r=>{ye(JSON.stringify(r),`生息演算地图_${o}.json`)})}return(o,r)=>(u(),g($,{popover:"下载当前地图","popover-width":180,onClick:r[0]||(r[0]=c=>n(e.value))},{default:p(()=>[l(S,{name:"download",color:"#eee",style:{width:"1.2rem",height:"1.2rem"}})]),_:1}))}},ct={__name:"index",setup(t){const e=I(!1);let n=null;function o(){clearTimeout(n),e.value=!0}function r(){n=setTimeout(()=>{e.value=!1},3e3)}const c=w(()=>({toolbar_wrapper:!0,show:e.value})),v=I("main");return(y,d)=>(u(),C("div",{class:H(c.value),onMouseenter:o,onMouseleave:r},[l(Ye),l(qe),l(Xe),l(pt),l(it,{mapType:v.value,"onUpdate:mapType":d[0]||(d[0]=m=>v.value=m)},null,8,["mapType"]),l(ut,{mapType:v.value,"onUpdate:mapType":d[1]||(d[1]=m=>v.value=m)},null,8,["mapType"]),l(Ze),l(at)],34))}},dt=A(ct,[["__scopeId","data-v-13d9d4f7"]]),mt={class:"dialog"},ft={__name:"index",setup(t){const e=ee(),n=w(()=>e.getCurrentAnnouncementComponent());return(o,r)=>(u(),g(s(J),{width:"40rem",top:"15vh",title:"公告",modelValue:s(e).show,"onUpdate:modelValue":r[2]||(r[2]=c=>s(e).show=c),onClose:r[3]||(r[3]=c=>s(e).hideDialog())},{footer:p(()=>[l(s(V),{onClick:r[0]||(r[0]=c=>s(e).hideDialog())},{default:p(()=>[M("确认")]),_:1}),l(s(V),{onClick:r[1]||(r[1]=c=>s(e).hideDialog()),type:"primary"},{default:p(()=>[M("确定")]),_:1})]),default:p(()=>[N("div",mt,[(u(),g(be(n.value)))])]),_:1},8,["modelValue"]))}},_t=A(ft,[["__scopeId","data-v-a5561ca6"]]),vt={__name:"index",setup(t){return K(()=>{x({title:"提示",message:"当前为生产环境部署页面，背景加载速度较慢，请耐心等待",type:"warning",duration:1e4})}),(e,n)=>(u(),C(E,null,[l(dt),l(we),l(_t)],64))}},ht=k({__name:"App",setup(t){const e=vt;return(n,o)=>(u(),g(s(e)))}});window.MapCore=B;const te=Ce(ht);te.use($e);te.mount("#app");B.loadDefaultData();
